(function(){"use strict";var t={8002:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var i=n(8935),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("h2",[t._v("Current Camera")]),t.device?n("code",[t._v(t._s(t.device.label))]):t._e(),n("div",{staticClass:"border"},[n("vue-web-cam",{ref:"webcam",attrs:{"device-id":t.deviceId,width:"100%"},on:{started:t.onStarted,stopped:t.onStopped,error:t.onError,cameras:t.onCameras,"camera-change":t.onCameraChange}})],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.camera,expression:"camera"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.camera=e.target.multiple?n:n[0]}}},[n("option",[t._v("-- Select Device --")]),t._l(t.devices,(function(e){return n("option",{key:e.deviceId,domProps:{value:e.deviceId}},[t._v(" "+t._s(e.label)+" ")])}))],2)]),n("div",{staticClass:"col-md-12"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.onCapture}},[t._v(" Capture Photo ")]),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.onStop}},[t._v(" Stop Camera ")]),n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.onStart}},[t._v(" Start Camera ")])])])]),n("div",{staticClass:"col-md-6"},[n("h2",[t._v("Captured Image")]),n("div",{staticClass:"imageBox"},[n("figure",{staticClass:"figure"},[n("img",{staticClass:"img-responsive",attrs:{src:t.img}})]),n("div",{staticClass:"overlayBox"},t._l(t.predictionList,(function(e,i){return n("div",{key:i,staticClass:"identifiedBox",style:{width:100*e.boundingBox.width+"%",height:100*e.boundingBox.height+"%",top:100*e.boundingBox.top+"%",left:100*e.boundingBox.left+"%"}},[n("div",{staticClass:"identifiedBoxTag"},[t._v(" "+t._s(e.name)+", "+t._s(e.probability)+" ")])])})),0)]),t.predictionList.length>0?n("div",t._l(t.predictionList,(function(e,i){return n("div",{key:i},[t._v(" "+t._s(e.name)+", "+t._s(e.probability)+"% ")])})),0):t._e()])])])},r=[],a=n(6198),s=n(7576),c=(n(8975),n(9826),n(1539),n(7042),n(4916),n(3123),n(5505),n(7714),n(2801),n(1174),n(2472),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(6977),n(6552)),u=n.n(c),d={name:"App",components:{"vue-web-cam":c.WebCam},data:function(){return{img:null,camera:null,deviceId:null,devices:[],predictionList:[]}},computed:{device:function(){var t=this;return this.devices.find((function(e){return e.deviceId===t.deviceId}))}},watch:{camera:function(t){this.deviceId=t},devices:function(){var t=(0,s.Z)(this.devices),e=t[0],n=t.slice(1);console.log("Tail: ",n),e&&(this.camera=e.deviceId,this.deviceId=e.deviceId)}},methods:{onCapture:function(){this.img=this.$refs.webcam.capture(),this.useVisionAPI()},onStarted:function(t){console.log("On Started Event",t)},onStopped:function(t){console.log("On Stopped Event",t)},onStop:function(){this.$refs.webcam.stop()},onStart:function(){this.$refs.webcam.start()},onError:function(t){console.log("On Error Event",t)},onCameras:function(t){this.devices=t,console.log("On Cameras Event",t)},onCameraChange:function(t){this.deviceId=t,this.camera=t,console.log("On Camera Change Event",t)},dataURItoBlob:function(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var n=t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(e.length),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return new Blob([i],{type:n})},useVisionAPI:function(){var t=(0,a.Z)(regeneratorRuntime.mark((function t(){var e,n,i,o,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.predictionList=[],e="31f0a0bc136544ae8071e5667074d60a",n="https://customvisiontrylon-prediction.cognitiveservices.azure.com/customvision/v3.0/Prediction/74806f33-b15e-4088-b174-ce1d8373a665/detect/iterations/Iteration4/image",console.log("Changing to binary"),i=this.$refs.webcam.capture(),o=this.dataURItoBlob(i),console.log(o),this.axios.post(n,o,{headers:{"Prediction-Key":e,"Content-Type":"application/octet-stream"}}).then((function(t){console.log(t.data);var e=t.data.predictions;console.log("Predictions"),console.log(e);for(var n=[],i=0;i<e.length;i++){var o={},a=e[i];o.name=a.tagName,o.probability=(100*a.probability).toFixed(2),o.boundingBox=a.boundingBox,n.push(o)}r.predictionList=n}));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},l=d,v=n(1001),f=(0,v.Z)(l,o,r,!1,null,null,null),p=f.exports,m=n(6166),h=n.n(m),b=n(6762);n(1462);i.Z.config.productionTip=!1,new i.Z({render:function(t){return t(p)}}).$mount("#app"),i.Z.use(u()),i.Z.use(b.Z,h())}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,i,o,r){if(!i){var a=1/0;for(d=0;d<t.length;d++){i=t[d][0],o=t[d][1],r=t[d][2];for(var s=!0,c=0;c<i.length;c++)(!1&r||a>=r)&&Object.keys(n.O).every((function(t){return n.O[t](i[c])}))?i.splice(c--,1):(s=!1,r<a&&(a=r));if(s){t.splice(d--,1);var u=o();void 0!==u&&(e=u)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[i,o,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,r,a=i[0],s=i[1],c=i[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var d=c(n)}for(e&&e(i);u<a.length;u++)r=a[u],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(d)},i=self["webpackChunkcustom_vision_demo"]=self["webpackChunkcustom_vision_demo"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(8002)}));i=n.O(i)})();
//# sourceMappingURL=app-legacy.75c998f2.js.map