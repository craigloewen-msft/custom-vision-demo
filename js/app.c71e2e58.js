(function(){"use strict";var e={8002:function(e,t,n){var o=n(8935),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("h2",[e._v("Current Camera")]),e.device?n("code",[e._v(e._s(e.device.label))]):e._e(),n("div",{staticClass:"border"},[n("vue-web-cam",{ref:"webcam",attrs:{"device-id":e.deviceId,width:"100%"},on:{started:e.onStarted,stopped:e.onStopped,error:e.onError,cameras:e.onCameras,"camera-change":e.onCameraChange}})],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.camera,expression:"camera"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.camera=t.target.multiple?n:n[0]}}},[n("option",[e._v("-- Select Device --")]),e._l(e.devices,(function(t){return n("option",{key:t.deviceId,domProps:{value:t.deviceId}},[e._v(" "+e._s(t.label)+" ")])}))],2)]),n("div",{staticClass:"col-md-12"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.onCapture}},[e._v(" Capture Photo ")]),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:e.onStop}},[e._v(" Stop Camera ")]),n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:e.onStart}},[e._v(" Start Camera ")])])])]),n("div",{staticClass:"col-md-6"},[n("h2",[e._v("Captured Image")]),n("div",{staticClass:"imageBox"},[n("figure",{staticClass:"figure"},[n("img",{staticClass:"img-responsive",attrs:{src:e.img}})]),n("div",{staticClass:"overlayBox"},e._l(e.predictionList,(function(t,o){return n("div",{key:o,staticClass:"identifiedBox",style:{width:100*t.boundingBox.width+"%",height:100*t.boundingBox.height+"%",top:100*t.boundingBox.top+"%",left:100*t.boundingBox.left+"%"}},[n("div",{staticClass:"identifiedBoxTag"},[e._v(" "+e._s(t.name)+", "+e._s(t.probability)+" ")])])})),0)]),e.predictionList.length>0?n("div",e._l(e.predictionList,(function(t,o){return n("div",{key:o},[e._v(" "+e._s(t.name)+", "+e._s(t.probability)+"% ")])})),0):e._e()])])])},r=[],a=(n(2801),n(8675),n(3462),n(6552)),s=n.n(a),c={name:"App",components:{"vue-web-cam":a.WebCam},data(){return{img:null,camera:null,deviceId:null,devices:[],predictionList:[]}},computed:{device:function(){return this.devices.find((e=>e.deviceId===this.deviceId))}},watch:{camera:function(e){this.deviceId=e},devices:function(){const[e,...t]=this.devices;console.log("Tail: ",t),e&&(this.camera=e.deviceId,this.deviceId=e.deviceId)}},methods:{onCapture(){this.img=this.$refs.webcam.capture(),this.useVisionAPI()},onStarted(e){console.log("On Started Event",e)},onStopped(e){console.log("On Stopped Event",e)},onStop(){this.$refs.webcam.stop()},onStart(){this.$refs.webcam.start()},onError(e){console.log("On Error Event",e)},onCameras(e){this.devices=e,console.log("On Cameras Event",e)},onCameraChange(e){this.deviceId=e,this.camera=e,console.log("On Camera Change Event",e)},dataURItoBlob(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],o=new Uint8Array(t.length),i=0;i<t.length;i++)o[i]=t.charCodeAt(i);return new Blob([o],{type:n})},useVisionAPI:async function(){this.predictionList=[];const e="31f0a0bc136544ae8071e5667074d60a",t="https://customvisiontrylon-prediction.cognitiveservices.azure.com/customvision/v3.0/Prediction/74806f33-b15e-4088-b174-ce1d8373a665/detect/iterations/Iteration4/image";console.log("Changing to binary");let n=this.$refs.webcam.capture(),o=this.dataURItoBlob(n);console.log(o),this.axios.post(t,o,{headers:{"Prediction-Key":e,"Content-Type":"application/octet-stream"}}).then((e=>{console.log(e.data);const t=e.data.predictions;console.log("Predictions"),console.log(t);let n=[];for(let o=0;o<t.length;o++){let e={},i=t[o];e.name=i.tagName,e.probability=(100*i.probability).toFixed(2),e.boundingBox=i.boundingBox,n.push(e)}this.predictionList=n}))}}},l=c,d=n(1001),u=(0,d.Z)(l,i,r,!1,null,null,null),v=u.exports,p=n(6166),f=n.n(p),m=n(9483);n(1462);o.Z.config.productionTip=!1,new o.Z({render:e=>e(v)}).$mount("#app"),o.Z.use(s()),o.Z.use(m.Z,f())}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,o,i,r){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],r=e[d][2];for(var s=!0,c=0;c<o.length;c++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(s=!1,r<a&&(a=r));if(s){e.splice(d--,1);var l=i();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,a=o[0],s=o[1],c=o[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)var d=c(n)}for(t&&t(o);l<a.length;l++)r=a[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=self["webpackChunkcustom_vision_demo"]=self["webpackChunkcustom_vision_demo"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(8002)}));o=n.O(o)})();
//# sourceMappingURL=app.c71e2e58.js.map